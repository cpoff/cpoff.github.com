function change_states(e,t,a){var o=document.getElementById(e),i=document.getElementById(t),r=new Array,s=t+"_container",n=i.value,d=0;for(x=0;x<states.length;x++)states[x][2]==o.value&&(r[d]=x,d++);if(r.length>0){document.getElementById(s).innerHTML='<select name="'+t+'" id="'+t+'" class="software_select"></select>';var _=document.getElementById(t);for(_.options[_.length]=new Option("",""),x=0;x<r.length;x++)_.options[_.length]=new Option(states[r[x]][0],states[r[x]][1]);software_$(".state_label").html("State / Province*")}else document.getElementById(s).innerHTML='<input type="text" name="'+t+'" id="'+t+'" size="40" maxlength="50" class="software_input_text" />',software_$(".state_label").html("State / Province");1==a&&""!=n&&(document.getElementById(t).value=n)}function change_quick_add_product_id(e){var t,a,o;e&&(t=quick_add_products[e][0],a=quick_add_products[e][1],o=quick_add_products[e][2]),document.getElementById("quick_add_ship_to_row")&&(document.getElementById("quick_add_ship_to_row").style.display="none"),document.getElementById("quick_add_add_name_row")&&(document.getElementById("quick_add_add_name_row").style.display="none"),document.getElementById("quick_add_quantity_row")&&(document.getElementById("quick_add_quantity_row").style.display="none"),document.getElementById("quick_add_amount_row")&&(document.getElementById("quick_add_amount_row").style.display="none"),1==o&&(document.getElementById("quick_add_ship_to_row").style.display="",document.getElementById("quick_add_add_name_row").style.display=""),"quantity"==t&&(document.getElementById("quick_add_quantity").value=a,document.getElementById("quick_add_quantity_row").style.display=""),"donation"==t&&(document.getElementById("quick_add_amount_row").style.display="")}function software_initialize_dynamic_ad_region(e,t,a,o,i,r){software_$(document).ready(function(){function s(o){var i=software_$("#software_ad_region_"+e+" .menu").find('a[href$="'+o.id+'"]').get(0);"slide"==t?software_update_current_ad_menu_item(i):software_fade_ads(i,e,a)}function n(){g.unbind("click.cycle"),clearInterval(u)}var d=software_$("#software_ad_region_"+e+" .items > div"),_=software_$("#software_ad_region_"+e+" .items"),l=software_$("#software_ad_region_"+e+" .items_container").css("overflow","hidden");if(software_$("#software_ad_region_"+e+" .caption").css({display:"block",position:"absolute","z-index":"0","filter:alpha":"(opacity=0)","-moz-opacity":"0","-khtml-opacity":"0",opacity:"0",width:"100%"}),"slide"==t){d.css({"float":"left",position:"relative"}),_.css("width",d[0].offsetWidth*d.length),software_$("#software_ad_region_"+e+" .menu").find("a").click(function(){software_update_current_ad_menu_item(this)}),software_$("#software_ad_region_"+e+" .previous").click(function(){l.trigger("prev")}),software_$("#software_ad_region_"+e+" .next").click(function(){l.trigger("next")}),window.location.hash?s({id:window.location.hash.substr(1)}):software_$("#software_ad_region_"+e+" ul.menu a:first").click();var f=software_$("#software_ad_region_"+e+" .menu a.current")[0].href.substr(software_$("#software_ad_region_"+e+" .menu a.current")[0].href.lastIndexOf("#")+1);document.getElementById(f+"_caption")&&software_$("#"+f+"_caption").animate({opacity:1},a,function(){software_$("#"+f+"_caption").css("z-index","1")});var c=-1*parseInt(_.css("paddingTop")||0);0==a&&(a=500);var w={target:l,items:d,navigation:".menu a",axis:"x",onBefore:function(t,o){var i=o.id;document.getElementById(i+"_caption")&&software_$("#"+i+"_caption").animate({opacity:1},a,function(){software_$("#"+i+"_caption").css("z-index","1")}),software_$("#software_ad_region_"+e+" .caption").each(function(){1==software_$(this).css("z-index")&&software_$(this).animate({opacity:0},a,function(){software_$(this).css("z-index","0")})})},onAfter:s,offset:c,duration:a,easing:"swing",constant:!1};software_$("#software_ad_region_"+e).serialScroll(w)}else software_$("#software_ad_region_"+e+" .menu").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .previous").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .next").css({"z-index":"2"}),software_$("#software_ad_region_"+e+" .items_container .item").css({position:"absolute",top:"0px",left:"0px","z-index":"0","float":"none","filter:alpha":"(opacity=0)","-moz-opacity":"0","-khtml-opacity":"0",opacity:"0"}),software_$("#software_ad_region_"+e+" .menu").find("a").click(function(t){t.preventDefault(),software_fade_ads(this,e,a)}),software_$("#software_ad_region_"+e+" .previous").click(function(){s("current"==software_$("#software_ad_region_"+e+" ul.menu li:first-child a").attr("class")?{id:software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("href").substr(1)}:{id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).prev("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).prev("li")[0].firstChild.href.lastIndexOf("#")+1)})}),software_$("#software_ad_region_"+e+" .next").click(function(){s("current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")?{id:software_$("#software_ad_region_"+e+" ul.menu a:first-child").attr("href").substr(1)}:{id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.lastIndexOf("#")+1)})}),window.location.hash?(software_$("#software_ad_region_"+e+" .items_container #"+window.location.hash.substr(1)).css({"filter:alpha":"(opacity=1)","-moz-opacity":"1","-khtml-opacity":"1",opacity:"1"}),s({id:window.location.hash.substr(1)})):(software_$(software_$("#software_ad_region_"+e+" .items_container .item")[0]).css({"filter:alpha":"(opacity=1)","-moz-opacity":"1","-khtml-opacity":"1",opacity:"1"}),s({id:software_$("#software_ad_region_"+e+" ul.menu a:first")[0].href.substr(software_$("#software_ad_region_"+e+" ul.menu a:first")[0].href.lastIndexOf("#")+1)}));if(1==o){var u=setInterval(function(){"slide"==t?l.trigger("next"):s("current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")?{id:software_$("#software_ad_region_"+e+" ul.menu a:first-child").attr("href").substr(1)}:{id:software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.substr(software_$(software_$("#software_ad_region_"+e+" ul.menu a.current")[0].parentNode).next("li")[0].firstChild.href.lastIndexOf("#")+1)}),"current"==software_$("#software_ad_region_"+e+" ul.menu li:last-child a").attr("class")&&0==r&&("fade"==t&&setTimeout("software_fade_ads('', '"+e+"', "+a+");",1e3*i),clearInterval(u))},1e3*i),g=software_$("#software_ad_region_"+e+" .menu").find("a").add("#software_ad_region_"+e+" .items_container").add("#software_ad_region_"+e+" .previous").add("#software_ad_region_"+e+" .next");g.bind("click.cycle",n)}})}function software_fade_ads(e,t,a){e&&""!=e||(e=software_$("#software_ad_region_"+t+" ul.menu a:first")[0]);var o=e.href.substr(e.href.lastIndexOf("#")+1),i=0;software_$("#software_ad_region_"+t+" .menu a.current")[0]&&(i=software_$("#software_ad_region_"+t+" .menu a.current")[0].href.substr(software_$("#software_ad_region_"+t+" .menu a.current")[0].href.lastIndexOf("#")+1)),software_update_current_ad_menu_item(e),0==a&&(a=1e3),software_$("#software_ad_region_"+t+" .items_container #"+o).animate({opacity:1},a,function(){software_$("#software_ad_region_"+t+" .items_container #"+o).css("z-index","1"),1!=software_$.browser.msie||7!=parseInt(software_$.browser.version,10)&&8!=parseInt(software_$.browser.version,10)||"transparent"!=software_$(this).css("background-color")||"none"!=software_$(this).css("background-image")||software_$(this).css("filter","")}),document.getElementById(o+"_caption")&&software_$("#"+o+"_caption").animate({opacity:1},a,function(){software_$("#"+o+"_caption").css("z-index","1")}),software_$("#software_ad_region_"+t+" .items_container #"+i).animate({opacity:0},a,function(){software_$("#software_ad_region_"+t+" .items_container #"+i).css("z-index","0")}),document.getElementById(i+"_caption")&&software_$("#"+i+"_caption").animate({opacity:0},a,function(){software_$("#"+i+"_caption").css("z-index","0")})}function software_update_current_ad_menu_item(e){software_$(e).parents("ul:first").find("a").removeClass("current").end().end().addClass("current")}function prepare_content_for_html(e){e=String(e);for(var t=new Array("&","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�",'"',"�","<",">","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�","�"),a=new Array("amp","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","euro","quot","szlig","lt","gt","cent","pound","curren","yen","brvbar","sect","uml","copy","ordf","laquo","not","shy","reg","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34"),o=0;o<t.length;o++)myRegExp=new RegExp,myRegExp.compile(t[o],"g"),e=e.replace(myRegExp,"&"+a[o]+";");return e}function software_show_or_hide_image_edit_button(e,t){if(clearTimeout(software_edit_image_button_timer[e]),image=document.getElementById(e),"mouseover"==t.type){if(!software_$(".software_photo_gallery_album")[0]){if("relative"!=image.offsetParent.style.position){var a=image.offsetParent.style.position;image.offsetParent.style.position="relative";var o=image.offsetParent.offsetLeft+image.offsetLeft,i=image.offsetParent.offsetTop+image.offsetTop;image.offsetParent.style.position=a}else var o=image.offsetLeft,i=image.offsetTop;document.getElementById("software_edit_button_for_"+e).style.left=o+"px",document.getElementById("software_edit_button_for_"+e).style.top=i+"px"}document.getElementById("software_edit_button_for_"+e).style.display="block"}else"mouseout"==t.type&&(software_edit_image_button_timer[e]=setTimeout('software_$(document.getElementById("software_edit_button_for_'+e+'")).slideUp("fast");',250))}function software_initialize_edit_region_dialog(){var e=software_$("#software_edit_region_dialog");e.dialog({autoOpen:!1,modal:!0,dialogClass:"standard",open:function(){var t=750,a=587,o=software_$(window).width(),i=software_$(window).height();.75*o>=t&&(t=.75*o),.75*i>=a&&(a=.75*i),e.dialog("option","width",t),e.dialog("option","height",a),e.dialog("option","position","center"),software_$(".ui-dialog-titlebar-close").css("display","none")},close:function(){"latest"==software_editor_version?CKEDITOR.instances.software_edit_region_textarea.destroy():tinyMCE.execCommand("mceRemoveControl",!1,"software_edit_region_textarea"),document.getElementById("software_edit_region_textarea").value=""},resize:function(){var e=software_$(".standard.ui-dialog");"previous"==software_editor_version&&software_$("#software_edit_region_dialog #software_edit_region_textarea_ifr").css({width:parseInt(e.width()-60),height:parseInt(e.height()-240)})}})}function software_open_edit_region_dialog(e,t,a,o){software_$("#software_edit_region_dialog").dialog("open");var i="";switch(t){case"pregion":i="Page Region #"+o;break;case"cregion":i="Common Region: "+a;break;case"system_region_header":i="System Region Header";break;case"system_region_footer":i="System Region Footer"}software_$("#software_edit_region_dialog")[0].parentNode.firstChild.firstChild.innerHTML='<table class="title_bar_table"><tr><td style="width: 33%;">Rich-text Editor</td><td style="width: 33%; text-align: center;">'+i+'</td><td style="width: 33%; text-align: right"></td></tr></table>',software_$("#software_edit_region_dialog #region_id")[0].value=e,software_$("#software_edit_region_dialog #region_type")[0].value=t,""!=o&&(document.getElementById("region_order").value=o),document.getElementById("software_edit_region_textarea").value=software_$.ajax({type:"GET",url:software_path+software_directory+"/get_region_content.php",data:"page_id="+software_$("#software_edit_region_dialog #page_id")[0].value+"&region_id="+e+"&region_type="+t,async:!1}).responseText,"latest"==software_editor_version?(software_ckeditor_config.height="400px",software_ckeditor_config.startupFocus=!0,CKEDITOR.replace("software_edit_region_textarea",software_ckeditor_config)):tinyMCE.execCommand("mceAddControl",!1,"software_edit_region_textarea")}function software_activate_edit_region_dialog(){var e=software_$(".standard.ui-dialog");software_$("#software_edit_region_dialog #software_edit_region_textarea_ifr").css({width:parseInt(e.width()-60),height:parseInt(e.height()-240)})}function software_init_photo_gallery(e){software_$(e).each(function(){var e=this[0],t=software_$(".software_photo_gallery_album #"+e)[0];software_$(t).mouseover(function(){software_$(t).addClass("image_hover")}),software_$(t).mouseout(function(){software_$(t).removeClass("image_hover")});var a=e.substr(0,e.lastIndexOf("_"));"album"==a&&(setTimeout(function(){software_$(software_$(software_$(".software_photo_gallery_album #"+e)[0].parentNode).find("#album_frame_1")[0]).css("width",software_$(t).outerWidth(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+e)[0].parentNode).find("#album_frame_1")[0]).css("height",software_$(t).outerHeight(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+e)[0].parentNode).find("#album_frame_2")[0]).css("width",software_$(t).outerWidth(!0)),software_$(software_$(software_$(".software_photo_gallery_album #"+e)[0].parentNode).find("#album_frame_2")[0]).css("height",software_$(t).outerHeight(!0))},250),software_$(t).click(function(){var e=this.id.substr(this.id.lastIndexOf("_")+1);window.location=software_path+software_page_name+"?folder_id="+e}))}),software_$(".software_photo_gallery_album .photo a.link").lightBox()}function software_change_verified_country(){if(document.getElementById("verified_state_container").style.display="none",document.getElementById("verified_address_container").style.display="none",document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_country_id").value){document.getElementById("verified_state_id").options.length=0,document.getElementById("verified_state_id").options[document.getElementById("verified_state_id").length]=new Option("","");var e=!1;for(i=0;i<software_verified_states.length;i++)software_verified_states[i].country_id==document.getElementById("verified_country_id").value&&(document.getElementById("verified_state_id").options[document.getElementById("verified_state_id").length]=new Option(software_verified_states[i].name,software_verified_states[i].id),e=!0);1==e?document.getElementById("verified_state_container").style.display="":(document.getElementById("verified_message").innerHTML="Sorry, we don't have any verified addresses for that Country.",document.getElementById("verified_message").style.color="red",document.getElementById("verified_message").style.display="")}}function software_change_verified_state(){if(document.getElementById("verified_address_container").style.display="none",document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_state_id").value){document.getElementById("verified_address_id").options.length=0,document.getElementById("verified_address_id").options[document.getElementById("verified_address_id").length]=new Option("","");var e=!1;for(i=0;i<software_verified_addresses.length;i++)software_verified_addresses[i].state_id==document.getElementById("verified_state_id").value&&(document.getElementById("verified_address_id").options[document.getElementById("verified_address_id").length]=new Option(software_verified_addresses[i].label,software_verified_addresses[i].id),e=!0);1==e?document.getElementById("verified_address_container").style.display="":(document.getElementById("verified_message").innerHTML="Sorry, we don't have any verified addresses for that State.",document.getElementById("verified_message").style.color="red",document.getElementById("verified_message").style.display="")}}function software_change_verified_address(){if(document.getElementById("verified_message").style.display="none",document.getElementById("verified_summary").style.display="none",document.getElementById("verified_button").style.display="none",""!=document.getElementById("verified_address_id").value){for(i=0;i<software_verified_addresses.length;i++)if(software_verified_addresses[i].id==document.getElementById("verified_address_id").value){var e=software_verified_addresses[i].company,t=software_verified_addresses[i].address_1,a=software_verified_addresses[i].address_2,o=software_verified_addresses[i].city,r=software_verified_addresses[i].state_code,s=software_verified_addresses[i].zip_code,n=(software_verified_addresses[i].country_code,software_verified_addresses[i].country_name);break}var d="";""!=e&&(d+=prepare_content_for_html(e)+"<br />"),d+=prepare_content_for_html(t)+"<br />",""!=a&&(d+=prepare_content_for_html(a)+"<br />"),d+=prepare_content_for_html(o)+", "+prepare_content_for_html(r)+" "+prepare_content_for_html(s)+"<br />"+prepare_content_for_html(n),document.getElementById("verified_summary").innerHTML=d,document.getElementById("verified_summary").style.display="",document.getElementById("verified_button").style.display=""}}function software_use_verified_address(){for(i=0;i<software_verified_addresses.length;i++)if(software_verified_addresses[i].id==document.getElementById("verified_address_id").value){var e=software_verified_addresses[i].company,t=software_verified_addresses[i].address_1,a=software_verified_addresses[i].address_2,o=software_verified_addresses[i].city,r=software_verified_addresses[i].state_code,s=software_verified_addresses[i].zip_code,n=software_verified_addresses[i].country_code;break}document.getElementById("company").value=e,document.getElementById("address_1").value=t,document.getElementById("address_2").value=a,document.getElementById("city").value=o,document.getElementById("zip_code").value=s,document.getElementById("country").value=n,change_states("country","state"),document.getElementById("state").value=r,document.getElementById("verified_button").style.display="none",document.getElementById("verified_address_id").value="",document.getElementById("verified_message").innerHTML="The shipping address fields have been updated with:",document.getElementById("verified_message").style.color="",document.getElementById("verified_message").style.display=""}var software_$=jQuery.noConflict(!0);software_$(document).ready(function(){software.init_accordions(),software.init_tabs();var e=software_$("#software_fullscreen_toggle");if(e.length){var t=software_$("#software_toolbar"),a=!1;e.hasClass("up_button")&&(t.on("load",function(){var e=0,a=setInterval(function(){e++,"undefined"!=typeof t[0].contentWindow.loaded&&1==t[0].contentWindow.loaded?(t.css({visibility:"hidden",display:"block"}),t.height(t.contents().find("body").height()),t.css({display:"none",visibility:"visible"}),t.slideDown("fast"),clearInterval(a)):e>=1e3&&clearInterval(a)},25)}),a=!0),software_$(window).resize(function(){t.is(":visible")&&t.height(t.contents().find("body").height())}),e.click(function(){if(t.is(":visible"))t.slideUp("fast"),e.removeClass("up_button"),e.addClass("down_button"),e.prop("title","Deactivate Fullscreen Mode (Ctrl+D | ⌘+D)");else if("undefined"!=typeof t[0].contentWindow.loaded&&1==t[0].contentWindow.loaded)t.css({visibility:"hidden",display:"block"}),t.height(t.contents().find("body").height()),t.css({visibility:"visible",display:"none"}),t.slideDown("fast"),e.removeClass("down_button"),e.addClass("up_button"),e.prop("title","Activate Fullscreen Mode (Ctrl+D | ⌘+D)");else var a=0,o=setInterval(function(){a++,"undefined"!=typeof t[0].contentWindow.loaded&&1==t[0].contentWindow.loaded?(t.css({visibility:"hidden",display:"block"}),t.height(t.contents().find("body").height()),t.css({visibility:"visible",display:"none"}),t.slideDown("fast"),e.removeClass("down_button"),e.addClass("up_button"),e.prop("title","Activate Fullscreen Mode (Ctrl+D | ⌘+D)"),clearInterval(o)):a>=1e3&&clearInterval(o)},25)}),software_$(window).on("beforeunload",function(){var t=!1;e.hasClass("up_button")&&(t=!0),t!=a&&software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"update_toolbar_properties",token:software_token,enabled:t}),type:"POST",async:!1})}),software_$(window).bind("keydown",function(a){if(a.ctrlKey||a.metaKey)switch(String.fromCharCode(a.which).toLowerCase()){case"d":a.preventDefault(),e.trigger("click");break;case"e":var o=software_$("#grid_toggle");o.length&&(a.preventDefault(),setTimeout(function(){o.click()},0));break;case"g":var i=t.contents().find(".page_designer_button");i.length&&(a.preventDefault(),setTimeout(function(){i[0].click()},0));break;case"s":var r=software_$("#software_inline_editing_save_button");r.is(":visible")&&(a.preventDefault(),r.trigger("click"))}})}if(document.getElementById("viewport")){var o=!1,i=document.getElementById("viewport");navigator.userAgent.match(/iPhone/i)&&(i.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0"),window.addEventListener("gesturestart",function(){clearTimeout(o),i.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=10.0")},!1),window.addEventListener("touchend",function(){clearTimeout(o),o=setTimeout(function(){i.setAttribute("content","width=device-width,minimum-scale=1.0,maximum-scale=1.0,initial-scale=1.0")},1e3)},!1))}"undefined"!=typeof software_kiosk&&1==software_kiosk&&software.kiosk.init()});var software_edit_image_button_timer=Array,software={Base64:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,a,o,i,r,s,n,d="",_=0;for(e=this._utf8_encode(e);_<e.length;)t=e.charCodeAt(_++),a=e.charCodeAt(_++),o=e.charCodeAt(_++),i=t>>2,r=(3&t)<<4|a>>4,s=(15&a)<<2|o>>6,n=63&o,isNaN(a)?s=n=64:isNaN(o)&&(n=64),d=d+this._keyStr.charAt(i)+this._keyStr.charAt(r)+this._keyStr.charAt(s)+this._keyStr.charAt(n);return d},decode:function(e){var t,a,o,i,r,s,n,d="",_=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");_<e.length;)i=this._keyStr.indexOf(e.charAt(_++)),r=this._keyStr.indexOf(e.charAt(_++)),s=this._keyStr.indexOf(e.charAt(_++)),n=this._keyStr.indexOf(e.charAt(_++)),t=i<<2|r>>4,a=(15&r)<<4|s>>2,o=(3&s)<<6|n,d+=String.fromCharCode(t),64!=s&&(d+=String.fromCharCode(a)),64!=n&&(d+=String.fromCharCode(o));return d=this._utf8_decode(d)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var o=e.charCodeAt(a);128>o?t+=String.fromCharCode(o):o>127&&2048>o?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:function(e){for(var t="",a=0,o=c1=c2=0;a<e.length;)o=e.charCodeAt(a),128>o?(t+=String.fromCharCode(o),a++):o>191&&224>o?(c2=e.charCodeAt(a+1),t+=String.fromCharCode((31&o)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),t+=String.fromCharCode((15&o)<<12|(63&c2)<<6|63&c3),a+=3);return t}},get_rot13:function(e){return e?e.replace(/[a-zA-Z]/g,function(e){return String.fromCharCode(("Z">=e?90:122)>=(e=e.charCodeAt(0)+13)?e:e-26)}):""},h:function(e){return e=e.replace(/&/g,"&amp;"),e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;")},init_accordions:function(e){"undefined"==typeof e&&(e="ul.list-accordion, ol.list-accordion"),software_$(e).each(function(){var e=software_$(this);return e.hasClass("ui-accordion")?!0:(e.children("li").each(function(){var e=software_$(this),t=e.find("a:first");t.remove(),e.find(":first").filter("br").remove(),e.wrapInner('<div class="item_content" />'),t.addClass("item_heading"),e.prepend(t)}),void e.accordion({active:".list-accordion-expanded",collapsible:!0,autoHeight:!1,header:"a.item_heading"}))})},init_add_comment:function(e){var t=e.comment_label,a=software_$(".add_comment_form textarea");a.one("keyup",function(){var e=!1;software_$(".add_comment_form").submit(function(){return e=!0,!0}),software_$(window).on("beforeunload",function(){return!e&&a.val()?"WARNING: If you leave this page, then your "+t+" will NOT be added.":void 0})})},init_add_comment_publish:function(){var e=software_$("#publish"),t=software_$("#publish_date_and_time"),a=software_$(".publish_schedule");"schedule"==e.val()&&(a.fadeIn(),t.datetimepicker({dateFormat:date_picker_format,timeFormat:"h:mm TT"})),e.change(function(){"schedule"==e.val()?(a.fadeIn(),t.datetimepicker({dateFormat:date_picker_format,timeFormat:"h:mm TT"}),t.focus()):a.fadeOut()})},init_auto_dialogs:function(e){function t(){try{return window.self!==window.top}catch(e){return!0}}var a=e.visit_length,o=e.auto_dialogs,i=e.preview;return t()?!1:software_$("body").hasClass("disable_auto_dialogs")?!1:void software_$.each(o,function(e,t){if(software_$("body").hasClass("disable_auto_dialog_"+t.id))return!0;if(i)var o=0;else var o=t.delay-a;0>=o&&(o=1),o=1e3*o,setTimeout(function(){var e={url:t.url},a=parseInt(t.width);a&&(e.width=a);var o=parseInt(t.height);if(o&&(e.height=o),e.class_name="auto_dialog auto_dialog_"+t.id,software.open_dialog(e),!i){Date.now||(Date.now=function(){return(new Date).getTime()});var r=Math.floor(Date.now()/1e3);document.cookie="software[auto_dialog_"+t.id+"]="+r+"; expires=Tue, 01 Jan 2030 06:00:00 GMT; path=/"}},o)})},init_country:function(e){var t=e.country_id,a=e.state_text_box_id,o=e.state_pick_list_id,i=e.countries,r=!0,s=software_$("#"+t),n=software_$('label[for="'+a+'"]'),d=software_$("#"+a),_=software_$('label[for="'+o+'"]'),l=software_$("#"+o),f=d.attr("name");s.change(function(){var e=s.val();e&&i[e]?(l.empty(),l.append('<option value=""></option>'),software_$.each(i[e].states,function(e,t){l.append('<option value="'+software.h(t.code)+'">'+software.h(t.name)+"</option>")}),r&&l.val(d.val()),d.attr("name",""),l.attr("name",f),s.attr("required")&&l.attr("required",!0),n.fadeOut(function(){_.fadeIn()}),d.fadeOut(function(){l.fadeIn()})):(r||d.val(""),d.attr("name",f),l.attr("name",""),l.attr("required",!1),_.fadeOut(function(){n.fadeIn()}),l.fadeOut(function(){d.fadeIn()})),r=!1}),s.trigger("change")},init_currency:function(){software_$("#currency_id").change(function(){this.form.submit()})},init_custom_arrival_date:function(e){software_$("#custom_arrival_date_"+e).datepicker({dateFormat:date_picker_format}),software_$("#arrival_date_"+e).click(function(){"checked"==software_$(this).attr("checked")&&software_$("#custom_arrival_date_"+e).focus()}),software_$("#custom_arrival_date_"+e).change(function(){0!=software_$.trim(software_$(this).val()).length&&software_$("#arrival_date_"+e).attr("checked","checked")})},init_email_preferences:function(){var e=software_$(".contact_groups");if(e.length){var t=software_$("input[name=opt_in]");t.change(function(){t.is(":checked")?e.fadeIn():e.fadeOut()}),t.trigger("change")}},init_menu:function(e){var t=e.name,a=e.effect,o=e.first_level_popup_position,i=e.second_level_popup_position,r=software_$("#software_menu_"+t);1!=r.hasClass("software_menu_"+a)&&(r.find("*").off(),"popup"==a?(software_$("#software_menu_"+t+" ul").css({position:"absolute",display:"none",visibility:"visible"}),software_$("#software_menu_"+t+" li").css({display:"inline-block"}),software_$("#software_menu_"+t+" li").hover(function(){software_$(this).addClass("on"),software_$(this).children("a").addClass("on");var e=software_$(this).children("ul");if(0!=e.length){if(1==software_$(this).hasClass("top_level"))var t=o;else var t=i;switch(t){case"top":e.css({left:"0",top:"-"+e.outerHeight()+"px"});break;case"bottom":e.css({left:"0",top:software_$(this).outerHeight()+"px"});break;case"left":e.css({left:"-"+e.outerWidth()+"px",top:"0"});break;case"right":e.css({left:software_$(this).outerWidth()+"px",top:"0"})}var a=this;setTimeout(function(){1==software_$(a).hasClass("on")&&(software_$(a).css({"z-index":"4"}),e.slideDown(200))},100)}},function(){software_$(this).removeClass("on"),software_$(this).children("a").removeClass("on");var e=software_$(this).children("ul");if(0!=e.length){var t=this;setTimeout(function(){0==software_$(t).hasClass("on")&&(software_$(t).css({"z-index":"0"}),e.slideUp(200))},250)}}),software_$("#software_menu_"+t+" li a").focus(function(){var e=software_$(this).parent();e.addClass("on"),software_$(this).addClass("on");var t=e.children("ul");if(0!=t.length){if(1==e.hasClass("top_level"))var a=o;else var a=i;switch(a){case"top":t.css({left:"0",top:"-"+t.outerHeight()+"px"});break;case"bottom":t.css({left:"0",top:e.outerHeight()+"px"});break;case"left":t.css({left:"-"+t.outerWidth()+"px",top:"0"});break;case"right":t.css({left:e.outerWidth()+"px",top:"0"})}setTimeout(function(){1==e.hasClass("on")&&(e.css({"z-index":"4"}),t.slideDown(200))},100)}}),software_$("#software_menu_"+t+" li").focusout(function(){var e=software_$(this);setTimeout(function(){if(0==e.find(":focus").length){e.removeClass("on"),e.children("a").removeClass("on");var t=e.children("ul");0!=t.length&&setTimeout(function(){0==e.hasClass("on")&&(e.css({"z-index":"0"}),t.slideUp(200))},250)}},0)}),r.removeClass("software_menu_accordion"),r.addClass("software_menu_popup")):"accordion"==a&&(software_$("#software_menu_"+t+" ul").css({display:"none",position:"static",top:"0",left:"0"}),software_$("#software_menu_"+t+" li").css({display:"block"}),software_$("#software_menu_"+t+" li:has(ul) > a").click(function(e){e.preventDefault();var a=software_$(this),o=a.parent(),i=o.hasClass("expanded"),r=software_$("#software_menu_"+t+" li.expanded:not(:has(#"+o.attr("id")+"))").first();r.length&&r.children("ul").slideUp("fast",function(){r.find("ul").hide(),r.removeClass("expanded"),r.find("li").removeClass("expanded"),r.find("a").removeClass("expanded")}),0==i&&o.children("ul").slideDown("fast",function(){o.addClass("expanded"),a.addClass("expanded")})}),software_$("#software_menu_"+t+" li:has(ul):has(.current)").each(function(){var e=software_$(this);e.children("ul").slideDown("fast",function(){e.addClass("expanded"),e.children("a").addClass("expanded")})}),r.removeClass("software_menu_popup"),r.addClass("software_menu_accordion")))},init_form_list_view:function(e){function t(){var e=[];software_$.each(o,function(t,o){var i=software_$(".software_form_list_view .page_"+a+" #"+o.html_field_name).val();if("undefined"==typeof i||""==i)return!0;var r=[];software_$.each(o.filters,function(e,t){return t.name==i?(r=t.forms.slice(),!1):void 0}),e.push({name:o.name,html_field_name:o.html_field_name,filter:i,matched_forms:r})}),software_$.each(o,function(t,o){var i=[];if(0==e.length||1==e.length&&e[0].name==o.name)i=o.filters.slice();else{var r=[],s=!0;software_$.each(e,function(e,t){if(t.name==o.name)return!0;if(s)r=t.matched_forms.slice();else for(var e=r.length;e--;){var a=r[e],i=!1;software_$.each(t.matched_forms,function(e,t){return a==t?(i=!0,!1):void 0}),0==i&&r.splice(e,1)}s=!1}),software_$.each(o.filters,function(e,t){software_$.each(t.forms,function(e,a){
return-1!=software_$.inArray(a,r)?(i.push(t),!1):void 0})})}if(i.length){var n=software_$(".software_form_list_view .page_"+a+" #"+o.html_field_name),d=n.val();n.empty();var _=software_$(".software_form_list_view .page_"+a+" ."+o.html_field_name+"_clear");""!=d&&_.length||n.append('<option value=""></option>'),software_$.each(i,function(e,t){n.append('<option value="'+software.h(t.name)+'">'+software.h(t.name)+"</option>")}),n.val(d),_.length&&(_.hide(),_.unbind("click"),""!=d&&(_.click(function(){n.prepend('<option value=""></option>'),n.val(""),n.trigger("change")}),_.show())),software_$(".software_form_list_view .page_"+a+" ."+o.html_field_name+"_row").fadeIn(400,function(){$(this).show()})}else software_$(".software_form_list_view .page_"+a+" ."+o.html_field_name+"_row").fadeOut(400,function(){$(this).hide()})})}var a=e.page_id,o=e.dynamic_fields,i=software_$("#"+a+"_browse_field_id"),r=software_$("#"+a+"_query"),s=software_$("#"+a+"_advanced"),n=software_$(".software_form_list_view .page_"+a+" .advanced_toggle"),d=software_$(".software_form_list_view .page_"+a+" .advanced_toggle .expand_label"),_=software_$(".software_form_list_view .page_"+a+" .advanced_toggle .collapse_label"),l=software_$(".software_form_list_view .page_"+a+" .advanced");if(i.length){var f=software_$("#"+a+"_browse_field_id option:selected").val(),c=f,w=software_$(".software_form_list_view .page_"+a+" .browse_toggle");i.change(function(){var e=software_$("#"+a+"_browse_field_id option:selected").val();r.length&&(r[0].value="",r.addClass("default")),n.length&&"true"==s[0].value?(s[0].value="false",l.slideUp("slow",function(){software_$(".software_form_list_view .page_"+a).removeClass("advanced_expanded"),_.hide(),d.show(),n[0].title="Add Advanced Search",""!=e?w.show():w.hide(),""!=f?software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+f).slideUp("slow",function(){""!=e?(software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+a).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded")}):""!=e?(software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+a).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded"),f=e})):(""!=e?w.show():w.hide(),""!=f?software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+f).slideUp("slow",function(){""!=e?(software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+a).addClass("browse_expanded")):(software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded"),""!=c&&software_$(".software_form_list_view .browse_and_search_form.page_"+a).submit())}):""!=e?(software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+e).slideDown("slow"),software_$(".software_form_list_view .page_"+a).addClass("browse_expanded")):software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded"),f=e)}),w.click(function(){return w.hide(),i.val(""),software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+f).slideUp("slow",function(){software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded"),""!=c&&software_$(".software_form_list_view .browse_and_search_form.page_"+a).submit()}),f="",!1})}if(r.length&&(""==r[0].value&&r.addClass("default"),r[0].onfocus=function(){i.length&&""!=f&&(w.hide(),i.val(""),software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+f).slideUp("slow",function(){software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded")}),f=""),""==r[0].value&&r.removeClass("default")},r[0].onblur=function(){""==r[0].value&&r.addClass("default")},n.length)){var u=!1;"true"==s[0].value&&(u=!0),n.click(function(){return"false"==s[0].value?(s[0].value="true",i.length&&""!=f?(w.hide(),i.val(""),software_$(".software_form_list_view .page_"+a+" .browse_filter_container.field_"+f).slideUp("slow",function(){software_$(".software_form_list_view .page_"+a).removeClass("browse_expanded"),software_$(".software_form_list_view .page_"+a).addClass("advanced_expanded"),d.hide(),_.show(),n[0].title="Remove Advanced Search",l.slideDown("slow")}),f=""):(software_$(".software_form_list_view .page_"+a).addClass("advanced_expanded"),d.hide(),_.show(),n[0].title="Remove Advanced Search",l.slideDown("slow"))):(s[0].value="false",_.hide(),d.show(),n[0].title="Add Advanced Search",l.slideUp("slow",function(){software_$(".software_form_list_view .page_"+a).removeClass("advanced_expanded"),1==u&&software_$(".software_form_list_view .browse_and_search_form.page_"+a).submit()})),!1}),software_$.isEmptyObject(o)||(t(),software_$(".software_form_list_view .page_"+a+" .dynamic").change(function(){t()}))}},init_payment_method:function(){function e(){var e=software_$("input[type=hidden][name=payment_method]").val();e||(e=software_$("input[type=radio][name=payment_method]:checked").val()),"Credit/Debit Card"==e?(software_$(".credit_debit_card").slideDown(),software_$(".surcharge_row").length&&(software_$(".total_row").slideUp(),software_$(".surcharge_row").slideDown(),software_$(".surcharge_total_row").slideDown()),t.html(t.attr("data-label"))):(software_$(".credit_debit_card").slideUp(),software_$(".surcharge_row").length&&(software_$(".surcharge_row").slideUp(),software_$(".surcharge_total_row").slideUp(),software_$(".total_row").slideDown())),"PayPal Express Checkout"==e?t.html(t.attr("data-paypal-label")):t.html(t.attr("data-label"))}var t=software_$(".purchase_button");t.attr("data-label",t.html()),software_$("input[type=radio][name=payment_method]").click(function(){e()}),e()},init_product_attributes:function(e){function t(e){e=e||1;var y=[];software_$.each(a,function(e,t){if(0==t.enabled)return!0;var a=software_$(".attribute_"+t.id+" select").val();if(""==a)return!0;var i=0;software_$.each(t.options,function(e,t){return t.id==a?(1==t.no_value&&(i=1),!1):void 0});var r=[];software_$.each(o,function(e,o){var s=!1,n=!1;software_$.each(o.attributes,function(e,o){return o.id==t.id&&(n=!0,o.option_id==a)?(s=!0,!1):void 0}),0==s&&0==n&&1==i&&(s=!0),1==s&&r.push(o)}),y.push({id:t.id,option_id:a,no_value:i,matched_products:r})});var $=[];if(0==y.length)$=o.slice();else{var b=!0;software_$.each(y,function(e,t){if(1==b)$=t.matched_products.slice();else for(var e=$.length;e--;){var a=$[e],o=!1;software_$.each(t.matched_products,function(e,t){return a.id==t.id?(o=!0,!1):void 0}),0==o&&$.splice(e,1)}b=!1})}var k=!1;if(software_$.each(a,function(e,t){var o=[];if(0==y.length||1==y.length&&y[0].id==t.id)o=t.options.slice();else{var i=[],r=!0;software_$.each(y,function(e,a){if(a.id==t.id)return!0;if(1==r)i=a.matched_products.slice();else for(var e=i.length;e--;){var o=i[e],s=!1;software_$.each(a.matched_products,function(e,t){return o.id==t.id?(s=!0,!1):void 0}),0==s&&i.splice(e,1)}r=!1}),o=[];var s=!1;software_$.each(t.options,function(e,a){software_$.each(i,function(e,i){var r=!1;if(1==a.no_value){var n=!1;software_$.each(i.attributes,function(e,o){return o.option_id==a.id?(r=!0,!1):void(o.id==t.id&&(n=!0))}),0==r&&0==n&&(r=!0)}else software_$.each(i.attributes,function(e,t){return t.option_id==a.id?(r=!0,!1):void 0});return 1==r?(o.push(a),1!=a.no_value&&(s=!0),!1):void 0})}),0==s&&(o=[])}var n=t.enabled;if(o.length>0){a[e].enabled=!0;var d=software_$(".attribute_"+t.id+" select");if(0==n)var _="";else var _=d.val();d.empty();var l=!1,f=!1;software_$.each(o,function(e,a){a.id==t.default_option_id&&(l=!0),a.id==_&&(f=!0)}),0==f&&0==l&&d.append('<option value=""></option>'),software_$.each(o,function(e,t){d.append('<option value="'+t.id+'">'+software.h(t.label)+"</option>")}),d.val(_);var c=software_$(".attribute_"+t.id+" .clear");c.hide(),c.unbind("click"),""!=_&&_!=t.default_option_id&&(c.click(function(){1==l?d.val(t.default_option_id):(d.prepend('<option value=""></option>'),d.val("")),d.trigger("change")}),c.show()),software_$(".attribute_"+t.id+".attribute_row").fadeIn(),1==o.length&&_!=o[0].id&&0==t.unselected?(d.val(o[0].id),k=!0):0==f&&1==l&&(d.val(t.default_option_id),k=!0)}else a[e].enabled=!1,software_$(".attribute_"+t.id+".attribute_row").fadeOut();n!=a[e].enabled&&(k=!0)}),1==k&&5>e)return void t(e+1);1==$.length?software_$(".product_id").val($[0].id):software_$(".product_id").val("");var x=software_$(".software_catalog_detail .image");if(x.length){if(1==$.length&&""!=$[0].image_name)var I=$[0].image_name;else var I=i;I!=u&&(""!=I?x.fadeOut(function(){x.attr("src",software_path+encodeURI(I))}).fadeIn():x.fadeOut(),u=I)}var C=software_$(".software_catalog_detail .short_description");if(C.length){if(1==$.length&&""!=$[0].short_description)var E=$[0].short_description;else var E=r;E!=g&&(""!=E?C.fadeOut(function(){C.html(software.h(E)),C.trigger("content_change")}).fadeIn():C.fadeOut(function(){C.html(""),C.trigger("content_change")}),g=E)}if(1==$.length&&$[0].id!=w){var B=$[0];software_$.ajax({contentType:"application/json",url:software_path+software_directory+"/api.php",data:JSON.stringify({action:"get_product",product:{id:B.id}}),type:"POST",success:function(e){if(B=e.product,""!=B.full_description&&"<p></p>"!=B.full_description)var t=B.full_description;else var t=s;if(1==B.inventory&&0==B.inventory_quantity&&""!=B.out_of_stock_message&&"<p></p>"!=B.out_of_stock_message&&(t+=" "+B.out_of_stock_message),t=t.replace(/{path}/g,software_path),t!=p&&(software_$(".software_catalog_detail .full_description").fadeOut(function(){software_$(this).html(t),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .full_description ul.list-accordion, .software_catalog_detail .full_description ol.list-accordion"),software.init_tabs(".software_catalog_detail .full_description ul.list-tabs, .software_catalog_detail .full_description ol.list-tabs")}).fadeIn(),p=t),""!=B.details&&"<p></p>"!=B.details)var a=B.details;else var a=n;if(a=a.replace(/{path}/g,software_path),a!=h&&(software_$(".software_catalog_detail .details").fadeOut(function(){software_$(this).html(a),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .details ul.list-accordion, .software_catalog_detail .details ol.list-accordion"),software.init_tabs(".software_catalog_detail .details ul.list-tabs, .software_catalog_detail .details ol.list-tabs")}).fadeIn(),h=a),""!=B.code)var o=B.code;else var o=d;o=o.replace(/{path}/g,software_path),o!=v&&(software_$(".software_catalog_detail .code").fadeOut(function(){software_$(this).html(o),software_$(this).trigger("content_change")}).fadeIn(),v=o),w=B.id}})}else if(1!=$.length&&(0!=w||""==p&&""==h&&""==v)){var O=s;O!=p&&(software_$(".software_catalog_detail .full_description").fadeOut(function(){software_$(this).html(O),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .full_description ul.list-accordion, .software_catalog_detail .full_description ol.list-accordion"),software.init_tabs(".software_catalog_detail .full_description ul.list-tabs, .software_catalog_detail .full_description ol.list-tabs")}).fadeIn(),p=O);var T=n;T!=h&&(software_$(".software_catalog_detail .details").fadeOut(function(){software_$(this).html(T),software_$(this).trigger("content_change"),software.init_accordions(".software_catalog_detail .details ul.list-accordion, .software_catalog_detail .details ol.list-accordion"),software.init_tabs(".software_catalog_detail .details ul.list-tabs, .software_catalog_detail .details ol.list-tabs")}).fadeIn(),h=T);var D=d;D!=v&&(software_$(".software_catalog_detail .code").fadeOut(function(){software_$(this).html(D),software_$(this).trigger("content_change")}).fadeIn(),v=D),w=0}var S="";if($.length>0){var A=0,z=0,q=!0,R=0,U=!1,L=0;if(software_$.each($,function(e,t){if("donation"==t.selection_type)return!0;R++;var a=parseInt(t.price);_[t.id]&&(U=!0,L=a,a=parseInt(_[t.id])),1==q?(A=a,z=a,q=!1):(A>a&&(A=a),a>z&&(z=a))}),R>0)if(A==z)if(1==R&&1==U){var L=(L/100*f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),N=(A/100*f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");S='<span style="text-decoration: line-through; white-space: nowrap">'+l+L+c+'</span>                                <span style="white-space: nowrap" class="software_discounted_price">'+l+N+c+"</span>"}else{var M="";1==U&&(M=' class="software_discounted_price"');var H=(A/100*f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");S='<span style="white-space: nowrap"'+M+">"+l+H+c+"</span>"}else{var P="",K="";1==U&&(P='<span class="software_discounted_price">',K="</span>");var F=(A/100*f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,"),W=(z/100*f).toFixed(2).replace(/(\d)(?=(\d{3})+\.)/g,"$1,");S=P+'<span style="white-space: nowrap">'+l+F+'</span> -                                 <span style="white-space: nowrap">'+l+W+c+"</span>"+K}}var j=software_$(".software_catalog_detail .price");if(""!=S?S!=m&&(j.fadeOut(function(){j.html(S)}).fadeIn(),m=S):(j.fadeOut(function(){j.html("")}),m=""),software_$(".edit_mode").length){if(!software_$(".attribute_helper").length){var G=software_$('<div class="attribute_helper" style="border: 2px #69A823 solid; margin: 2.5em .5em 1em .5em">                            <div class="title" style="background-color: #69A823; color: white; padding: .25em .5em">Attribute Helper: <span class="number_of_products"></span> &nbsp;<span class="arrow">&#9660;</span></div>                            <div class="products" style="display: none; background-color: white; padding: .25em .5em">                                <table style="width: 100%">                                    <tbody></tbody>                                </table>                            </div>                        </div>');software_$(".software_catalog_detail").prepend(G),software_$(".attribute_helper .title").css("cursor","pointer"),software_$(".attribute_helper .title").click(function(){software_$(".attribute_helper .products").is(":visible")?(software_$(".attribute_helper .products").slideUp(),software_$(".attribute_helper .arrow").html("&#9660;")):(software_$(".attribute_helper .products").slideDown(),software_$(".attribute_helper .arrow").html("&#9650;"))})}var J="";1!=$.length&&(J="s"),software_$(".attribute_helper .title .number_of_products").html($.length+" product"+J+" matched"),software_$(".attribute_helper .products tbody").html(""),software_$.each($,function(e,t){var a=software.h(t.name);""!=t.short_description&&(""!=a&&(a+=" - "),a+=software.h(t.short_description)),software_$(".attribute_helper .products tbody").append('<tr class="product_'+t.id+'" style="color: #69A823; cursor: pointer">                            <td style="padding: .15em; text-align: left; vertical-align: middle">'+a+'</td>                            <td style="padding: .15em; text-align: left; vertical-align: middle">'+t.relative_time+"</td>                        </tr>"),software_$(".attribute_helper .products .product_"+t.id).click(function(){window.location.href=software_path+software_directory+"/edit_product.php?id="+t.id+"&send_to="+software.h(encodeURIComponent(window.location.pathname+window.location.search))})})}}software_$(".software_catalog_detail .image").hide(),software_$(".software_catalog_detail .short_description").html("").hide(),software_$(".software_catalog_detail .price").html("").hide(),software_$(".software_catalog_detail .full_description").html("").hide(),software_$(".software_catalog_detail .details").html("").hide(),software_$(".software_catalog_detail .code").html("").hide();var a=e.attributes,o=e.products,i=e.default_image_name,r=e.default_short_description,s=e.default_full_description,n=e.default_details,d=e.default_code,_=e.discounted_product_prices,l=e.visitor_currency_symbol,f=e.visitor_currency_exchange_rate,c=e.visitor_currency_code_for_output,w=0,u="",g="",m="",p="",h="",v="";software_$(".attribute_row select").change(function(){var e=this.name.split("_")[1],o=software_$(this).val();software_$.each(a,function(t,i){return i.id!=e?!0:(""==o?a[t].unselected=!0:a[t].unselected=!1,!1)}),t()}),t()},init_quick_add:function(){software_$("#quick_add_product_id").change(function(){change_quick_add_product_id(this.options[this.selectedIndex].value)});var e=software_$("#quick_add_quantity").val();software_$("#quick_add_product_id").trigger("change"),software_$("#quick_add_quantity").val(e)},init_share_comment:function(e){var t=e.comment_label;software_$(".comment .share").click(function(){var e=.75*software_$(window).width(),a=software_$(this).attr("data-id"),o=window.location.href.split("#")[0]+"#c-"+a,i=new Date,r=i.getTime(),s=software_$('<div                    id="software_dialog_'+r+'"                    style="display: none; padding: 1em"                >                    <div style="margin-bottom: 1em">                        <input type="text" style="width: 100%" value="'+software.h(o)+'">                    </div>                                        <div>                        <button class="copy software_button_small_primary btn btn-sm btn-primary">                            Copy to Clipboard                        </button>&nbsp;                        <button class="cancel software_button_small_secondary btn btn-sm btn-default btn-secondary">                            Cancel                        </button>                    </div>                </div>');software_$("body").append(s),software_$("#software_dialog_"+r).dialog({autoOpen:!0,open:function(){var e=software_$(".share_comment input");e[0].select(),e.click(function(){this.select()});var t=software_$(".share_comment .copy");t.click(function(){e[0].select(),document.execCommand("copy"),software_$("#software_dialog_"+r).dialog("close")});var a=software_$(".share_comment .cancel");a.click(function(){software_$("#software_dialog_"+r).dialog("close")}),software_$(".ui-widget-overlay").bind("click",function(){software_$("#software_dialog_"+r).dialog("close")})},close:function(){software_$("#software_dialog_"+r).remove(),software_$("#software_dialog_"+r+"_container").remove()},dialogClass:"software mobile_dialog share_comment",modal:!0,title:"Share "+software.h(t),width:e,show:{effect:"fade"},hide:{effect:"fade"}})})},tab_count:0,init_tabs:function(e){"undefined"==typeof e&&(e="ul.list-tabs, ol.list-tabs"),software_$(e).each(function(){var e=software_$(this);return e.parent().hasClass("software_list_tabs_container")?!0:(e.wrap('<div class="software_list_tabs_container" />'),e.children("li").each(function(){var t=software_$(this),a=t.find("a:first");a.remove(),t.find(":first").filter("br").remove();var o=t.html();t.empty(),software.tab_count++;var i="list_tab_item_"+software.tab_count;a.attr("href","#"+i),t.append(a),o='<div id="'+i+'" class="item_content">'+o+"</div>",e.parent().append(o)}),void e.parent().tabs())})},inline_editing:{cancel:function(){for(var e=software.inline_editing.regions.length,t=0;e>t;t++){var a=software.inline_editing.regions[t].container_id;1==CKEDITOR.instances[a].checkDirty()&&(CKEDITOR.instances[a].setData(software.inline_editing.regions[t].content),CKEDITOR.instances[a].resetDirty(),CKEDITOR.instances[a].once("change",function(){software.inline_editing.show_buttons()}))}software_$("#software_inline_editing_confirmation").length&&software_$("#software_inline_editing_confirmation").remove(),software_$("body").append("                <div id=\"software_inline_editing_confirmation\" style=\"background-color: #edfced; border-bottom: 1px solid #428221; border-left: 1px solid #428221; border-right: 1px solid #428221; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: #428221; display: none; font-family: 'Lucida Grande','Lucida Sans Unicode','Lucida Sans',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 40%; z-index: 2147483647\">                    <img src=\""+software_path+software_directory+'/images/icon_notice.png" width="16" height="16" alt="Notice" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">Notice:</span> <span style="font-size: 13px">Your updates have been <strong>canceled</strong>.</span>                </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow").delay(3e3).slideUp("slow",function(){software_$(this).remove()}),software_$("#software_inline_editing_buttons").hide("slide",{direction:"right"})},init_region:function(e){var t=e.container_id,a=e.type,o=e.id,i=e.order,r=e.collection,s=e.count;switch(a){case"page":software.inline_editing.regions.push({container_id:t,type:a,id:o,order:i,collection:r,count:s,content:document.getElementById(t).innerHTML});break;case"common":case"system_region_header":case"system_region_footer":software.inline_editing.regions.push({container_id:t,type:a,id:o,count:s,content:document.getElementById(t).innerHTML})}switch(software_$("#"+t).attr("contenteditable","true"),CKEDITOR.inline(t,software_ckeditor_config),CKEDITOR.instances[t].once("change",function(){software.inline_editing.show_buttons()}),a){case"page":var n="pregion";break;case"common":var n="cregion";break;case"system_region_header":var n="system_region_header";break;case"system_region_footer":var n="system_region_footer"}CKEDITOR.instances[t].on("instanceReady",function(){software_$("#"+t).on("mouseenter","img[data-cke-saved-src]",function(){var e=software_$(this),t=e.attr("src");if(t.indexOf("/")>-1)var a=t.lastIndexOf("/"),i=t.substring(a+1).trim();else var i=t.trim();i=decodeURIComponent(i);var r=i.split(".").pop().toLowerCase();if("gif"==r||"jpg"==r||"jpeg"==r||"png"==r){if(e.data("image_id"))var s=e.data("image_id");else{var s=++software.inline_editing.last_image_id;e.data("image_id",s)}if(0==software_$("#software_image_editor_button_"+s).length){var d=software_$('<a href="'+software_path+software_directory+"/image_editor_edit.php?file_name="+prepare_content_for_html(encodeURIComponent(i))+"&amp;object_type="+n+"&amp;object_id="+o+"&amp;send_to="+prepare_content_for_html(encodeURIComponent(window.location.pathname+window.location.search))+'" id="software_image_editor_button_'+s+'" style="border: 0; left: '+e.offset().left+"px; margin: 0 0 0 1.5em; padding: .15em; position: absolute; text-decoration: none; top: "+e.offset().top+'px; z-index: 9" title="Edit Image ('+prepare_content_for_html(i)+') with PicMonkey"><img src="'+software_path+software_directory+'/images/icon_picmonkey.png" width="86" height="20" alt="PicMonkey" /></a>').appendTo("body");d.on("mouseleave",function(){setTimeout(function(){0==e.is(":hover")&&0==d.is(":hover")&&d.remove()},0)})}}}),software_$("#"+t).on("mouseleave","img[data-cke-saved-src]",function(){var e=software_$(this),t=e.data("image_id"),a=software_$("#software_image_editor_button_"+t);a.length&&setTimeout(function(){0==e.is(":hover")&&0==a.is(":hover")&&a.remove()},0)})}),1==software.inline_editing.regions.length&&software_$(window).on("beforeunload",function(){for(var e=software.inline_editing.regions.length,t=0;e>t;t++){var a=software.inline_editing.regions[t].container_id;if(1==CKEDITOR.instances[a].checkDirty())return"WARNING: If you leave this page, then your unsaved changes will be lost."}})},last_image_id:0,regions:[],save:function(){software_$("#software_inline_editing_buttons").hide("slide",{direction:"right"}),software_$("#software_inline_editing_confirmation").length&&software_$("#software_inline_editing_confirmation").remove(),software_$("body").append('                <div id="software_inline_editing_confirmation" class="notice" style="background-color: #edfced; border-bottom: 1px solid #428221; border-left: 1px solid #428221; border-right: 1px solid #428221; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: #428221; display: none; font-family: \'Lucida Grande\',\'Lucida Sans Unicode\',\'Lucida Sans\',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 40%; z-index: 2147483647">                    <img src="'+software_path+software_directory+'/images/icon_notice.png" width="16" height="16" alt="Notice" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">Notice:</span> <span class="message" style="font-size: 13px">Saving... (please wait)</span>                </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow");for(var e=[],t=software.inline_editing.regions.length,a=0;t>a;a++){var o=software.inline_editing.regions[a].container_id;1==CKEDITOR.instances[o].checkDirty()&&e.push(a)}var i=e.length;if(i>0)for(var r,s=0,n=0;i>n;n++){var a=e[n],o=software.inline_editing.regions[a].container_id,d="";switch(software.inline_editing.regions[a].type){case"page":var _="pregion",l=software.inline_editing.regions[a].order;d=software.inline_editing.regions[a].collection;break;case"common":var _="cregion",l="";break;case"system_region_header":var _="system_region_header",l="";break;case"system_region_footer":var _="system_region_footer",l=""}var f=CKEDITOR.instances[o].getData();software_$.ajax({type:"POST",url:software_path+software_directory+"/save_region_content.php",data:{inline:"true",page_id:software_page_id,region_content:f,region_type:_,region_id:software.inline_editing.regions[a].id,region_order:l,collection:d,token:software_token},async:!0,index:a,complete:function(e,t){s++;var a=this.index,o=software.inline_editing.regions[a].container_id,n=!1;"success"!=t&&(n=!0,r=!0),0==n&&(CKEDITOR.instances[o].resetDirty(),software.inline_editing.regions[a].content=CKEDITOR.instances[o].getData()),s==i&&(1==r?(software_$("#software_inline_editing_confirmation").remove(),software_$("body").append('                                        <div id="software_inline_editing_confirmation" class="error" style="background-color: #fdd5ce; border-bottom: 2px solid red; border-left: 2px solid red; border-right: 2px solid red; border-bottom-left-radius: 7px; border-bottom-right-radius: 7px; color: red; display: none; font-family: \'Lucida Grande\',\'Lucida Sans Unicode\',\'Lucida Sans\',Lucida,Arial,Verdana,sans-serif; left: 0; margin-left: auto; margin-right: auto; padding: .5em; position: fixed; right: 0; text-align: center; top: 0; width: 50%; z-index: 2147483647">                                            <img src="'+software_path+software_directory+'/images/icon_error.png" width="16" height="16" alt="Error" title="" style="margin-right: 7px; margin-bottom: 2px; vertical-align: middle" /><span style="font-size: 14px; font-weight: bold">An error occurred:</span> <span style="font-size: 13px">Sorry, your updates could not be saved. Please try again later.</span>                                        </div>'),software_$("#software_inline_editing_confirmation").slideDown("slow").delay(6e3).slideUp("slow",function(){software_$(this).remove()}),software_$("#software_inline_editing_buttons").show("slide",{direction:"right"})):(software_$("#software_inline_editing_confirmation .message").html("Your updates have been <strong>saved</strong>."),software_$("#software_inline_editing_confirmation").delay(3e3).slideUp("slow",function(){software_$(this).remove()})))}}),CKEDITOR.instances[o].once("change",function(){software.inline_editing.show_buttons()})}},show_buttons:function(){0==software_$("#software_inline_editing_buttons").length&&(software_$("body").append('                    <div id="software_inline_editing_buttons" style="display: none; position: fixed; right: 0; top: 45%; z-index: 2147483647">                        <div id="software_inline_editing_save_button" style="background-color: black; border: 1px solid #629d1f; cursor: pointer; margin-bottom: 10px; padding: 5px" title="Save"><img src="'+software_path+software_directory+'/images/inline_save.png" width="25" height="25" alt="Save current page edits (Ctrl+S | &#8984;+S)." title="Save current page edits (Ctrl+S | &#8984;+S)." border="0" style="display: block"></div>                        <div id="software_inline_editing_cancel_button" style="background-color: black; border: 1px solid #629d1f; cursor: pointer; padding: 5px" title="Cancel"><img src="'+software_path+software_directory+'/images/inline_cancel.png" width="25" height="25" alt="Cancel current page edits." title="Cancel current page edits." border="0" style="display: block"></div>                    </div>'),software_$("#software_inline_editing_save_button").click(function(){software.inline_editing.save()}),software_$("#software_inline_editing_cancel_button").click(function(){software.inline_editing.cancel()})),"none"==software_$("#software_inline_editing_buttons").css("display")&&software_$("#software_inline_editing_buttons").show("slide",{direction:"right"})}},kiosk:{init:function(){0==software_kiosk_activity?software_$(document).one("DOMMouseScroll keydown mousedown mousemove mousewheel",function(){software_$.ajax(software_path+software_directory+"/kiosk.php?action=update_activity"),software_kiosk_activity=!0,software.kiosk.detect_inactivity(),software.kiosk.show_logout_button()}):(software.kiosk.detect_inactivity(),software.kiosk.show_logout_button())},detect_inactivity:function(){var e=setTimeout(function(){software.kiosk.show_dialog()},1e3*software_kiosk_inactivity_time);software_$(document).on("DOMMouseScroll keydown mousedown mousemove mousewheel",function(){clearTimeout(e),e=setTimeout(function(){software.kiosk.show_dialog()},1e3*software_kiosk_inactivity_time)})},logout:function(){window.location.href=software_path+software_directory+"/kiosk.php?action=logout"},show_dialog:function(){if(software_$("#software_kiosk_dialog").dialog("isOpen")!==!0){software_$("body").append('                    <div id="software_kiosk_dialog">                        <div id="software_kiosk_dialog_message">'+prepare_content_for_html(software_kiosk_dialog_message)+'</div>                        <div id="software_kiosk_dialog_buttons"><a id="software_kiosk_dialog_continue_button" class="software_button_primary">'+prepare_content_for_html(software_kiosk_continue_button_label)+'</a><a id="software_kiosk_dialog_logout_button" class="software_button_secondary">'+prepare_content_for_html(software_kiosk_logout_button_label)+'</a></div>                        <div id="software_kiosk_dialog_countdown">Please make a choice within <span id="software_kiosk_dialog_countdown_seconds">'+software_kiosk_dialog_time+" seconds</span>.</div>                    </div>"),software_$("#software_kiosk_dialog_continue_button").on("click",function(){software_$("#software_kiosk_dialog").dialog("close")}),software_$("#software_kiosk_dialog_logout_button").on("click",function(){software.kiosk.logout()});var e,t;software_$("#software_kiosk_dialog").dialog({autoOpen:!0,close:function(){clearTimeout(e),clearInterval(t),software_$("#software_kiosk_dialog").remove(),software_$("#software_kiosk_logout_button").fadeIn()},closeOnEscape:!1,dialogClass:"software mobile_dialog",draggable:!1,modal:!0,open:function(){software_$(".ui-dialog-titlebar-close").hide();var a=software_kiosk_dialog_time;t=setInterval(function(){if(a-=1,0==a)clearInterval(t);else{var e="";a>1&&(e="s"),software_$("#software_kiosk_dialog_countdown_seconds").html(a+" second"+e)}},1e3),e=setTimeout(function(){software_$("#software_kiosk_dialog").dialog("isOpen")===!0&&software.kiosk.logout()},1e3*software_kiosk_dialog_time),software_$("#software_kiosk_logout_button").fadeOut()},resizable:!1,show:{effect:"fade"},width:400})}},show_logout_button:function(){software_$("body").append('<a id="software_kiosk_logout_button" class="software_button_secondary" style="bottom: 0; display: none; margin: 1em; position: fixed; right: 0; z-index: 2147483647">'+prepare_content_for_html(software_kiosk_logout_button_label)+"</a>"),
software_$("#software_kiosk_logout_button").on("click",function(){software.kiosk.logout()}),software_$("#software_kiosk_logout_button").fadeIn()}},open_dialog:function(e){var t=e.class_name,a=e.modal,o=e.title,i=e.url,r=e.width,s=e.height;t=void 0===t?"":" "+t,void 0===s||"mobile"==software_device_type?s=.75*software_$(window).height():s+=25,void 0===a&&(a=!0),void 0!==r&&"mobile"!=software_device_type||(r=.75*software_$(window).width());var n=new Date,d=n.getTime(),_=software_$('<iframe id="software_dialog_'+d+'" src="'+software.h(i)+'" frameBorder="0" style="border: none; display: block; margin: 0" allowfullscreen></iframe>');software_$("body").append(_),software_$("#software_dialog_"+d).dialog({autoOpen:!0,open:function(){software_$("#software_dialog_"+d).wrap('<div id="software_dialog_'+d+'_container" />'),software_$("#software_dialog_"+d+"_container").css({overflow:"auto","-webkit-overflow-scrolling":"touch"}),a&&software_$(".ui-widget-overlay").bind("click",function(){software_$("#software_dialog_"+d).dialog("close")})},dragStart:function(){software_$("body").append('<div class="software_overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 2147483647"></div>')},dragStop:function(){software_$(".software_overlay").remove()},resizeStart:function(){software_$("body").append('<div class="software_overlay" style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; z-index: 2147483647"></div>')},resizeStop:function(){software_$(".software_overlay").remove()},close:function(){software_$("#software_dialog_"+d).remove(),software_$("#software_dialog_"+d+"_container").remove()},dialogClass:"software mobile_dialog"+t,height:s,modal:a,title:o,width:r,show:{effect:"fade"},hide:{effect:"fade"}})},output_email_link:function(e){document.write(this.get_rot13(this.Base64.decode(e))),software_$("#software_email_link_script").remove()}};